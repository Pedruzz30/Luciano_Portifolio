/* =====================
   servicos.css — Página Serviços (refinado e limpo)
   Camadas: tokens, base, utilities, components, pages
   ===================== */

@layer tokens, base, utilities, components, pages;

/* ---------- TOKENS ---------- */
@layer tokens {
  :root {
    /* Espaçamentos mapeando tokens globais */
    --space-1: var(--space-2xs);
    --space-2: var(--space-xs);
    --space-3: var(--space-sm);
    --space-4: var(--space-md);
    --space-5: var(--space-lg);
    --space-6: var(--space-xl);
    --space-7: clamp(3rem, 8vw, 4.5rem);

    /* Raios e sombras (apenas os usados) */
    --radius-sm: 0.75rem;
    --radius-md: 1.2rem;
    --radius-xl: clamp(2rem, 5vw, 2.75rem);

    --shadow-md: 0 16px 32px rgba(62, 39, 49, 0.12);
    --shadow-xl: 0 34px 72px rgba(62, 39, 49, 0.22);

    /* Tipografia complementar */
    --fs-sm: clamp(0.85rem, 1.4vw, 0.95rem);
    --fs-base: clamp(0.98rem, 1.6vw, 1.08rem);
    --fs-lg: clamp(1.1rem, 2.4vw, 1.35rem);
    --fs-xl: clamp(1.5rem, 3vw, 2.1rem);
    --lh-tight: 1.25;
    --lh-base: 1.65;

    /* Cores derivadas da paleta */
    --surface-glass: color-mix(in srgb, rgba(255, 255, 255, 0.65) 80%, rgba(201, 174, 143, 0.35) 20%);
    --border: color-mix(in srgb, var(--dourado-fosco) 40%, #ffffff 60%);
    --border-strong: color-mix(in srgb, var(--terracota-queimado) 40%, #ffffff 60%);
    --text: color-mix(in srgb, var(--marrom-terra-firme) 90%, #000000 10%);
    --text-muted: color-mix(in srgb, var(--marrom-terra-firme) 70%, #000000 30%);
    --accent: var(--terracota-queimado);

    --transition-fast: 180ms ease-out;
    --transition-base: 260ms cubic-bezier(0.22, 0.61, 0.36, 1);
    --transition-slow: 420ms cubic-bezier(0.16, 1, 0.3, 1);
  }
}

/* ---------- BASE ---------- */
@layer base {
  .section {
    position: relative;
    isolation: isolate;
    padding-block: clamp(var(--space-5), 9vw, var(--space-7));
  }

  .section-heading {
    display: grid;
    gap: var(--space-2);
    justify-items: center;
    text-align: center;
    margin-block-end: clamp(var(--space-4), 6vw, var(--space-5));
  }

  .section-heading .kicker {
    margin: 0;
    text-transform: uppercase;
    letter-spacing: 0.28em;
    font-size: var(--fs-sm);
    color: color-mix(in srgb, var(--oliva-sutil) 80%, #000 20%);
  }

  .section-heading h2 {
    margin: 0;
    font-family: "Cormorant Garamond", serif;
    font-size: clamp(2.1rem, 4vw, 2.8rem);
    line-height: 1.1;
  }

  .section-text {
    margin: 0;
    max-inline-size: min(68ch, 90%);
    font-size: var(--fs-lg);
    line-height: var(--lh-base);
    color: var(--text-muted);
  }

  .btn,
  .btn-primary
   {
    position: relative;
    inline-size: fit-content;
    font-weight: 600;
    letter-spacing: 0.02em;
    transition:
      transform var(--transition-fast),
      box-shadow var(--transition-fast),
      background-color var(--transition-fast),
      color var(--transition-fast);
  }

  .btn:focus-visible,
  .btn-primary:focus-visible
   {
    outline: 3px solid color-mix(in srgb, var(--accent) 45%, #ffffff 55%);
    outline-offset: 4px;
  }

  @media (hover: hover) {
    .btn:hover,
    .btn-primary:hover
     {
      transform: translateY(-2px);
      box-shadow: 0 14px 28px rgba(117, 42, 42, 0.18);
    }
  }
}

/* ---------- UTILITIES ---------- */
@layer utilities {
  [data-animate] {
    opacity: 0;
    transform: translateY(32px);
    transition:
      opacity var(--transition-slow),
      transform var(--transition-slow);
    will-change: opacity, transform;
  }
  [data-animate].is-visible {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Acessibilidade de movimento reduzido */
@media (prefers-reduced-motion: reduce) {
  @layer utilities {
    [data-animate] {
      opacity: 1 !important;
      transform: none !important;
      transition: none !important;
    }
    .btn,
    .btn-primary {
      transition: none !important;
    }
  }
  @layer components {
    .mini-card,
    .process-step,
    .cta-card .btn.btn-primary {
      transition: none !important;
    }
  }
}

/* ===== HERO — alinhamento, tipografia e ritmo visual ===== */
.hero--servicos.hero--plain {
  position: relative;
  min-block-size: calc(100svh - var(--header-offset, 0px));
  padding: 0 clamp(1rem, 4vw, 2rem);
  overflow: hidden;
}

/* Mantém o grid se precisar de elementos extras, mas o copy manda no centro */
.hero--servicos.hero--plain .hero-grid {
  display: contents; /* evita camada extra e herda o alinhamento do copy */
}

/* Centro geométrico real do texto */
.hero--servicos.hero--plain .hero-copy {
  position: absolute;
  top: 50%; left: 50%;
  transform: translate(-50%, -50%);
  max-inline-size: min(62rem, 92vw);
  width: 100%;

  /* alinhamento e espaçamento coerente */
  display: grid;
  justify-items: center;
  text-align: center;
  gap: clamp(1rem, 2.2vw, 1.6rem);

  /* limpa ruídos visuais (sem card/vidro) */
  background: transparent;
  border-radius: 0;
  box-shadow: none;
  backdrop-filter: none;
  padding: 0;
}

/* Eyebrow fino e legível */
.hero--servicos.hero--plain .hero-eyebrow {
  margin: 0;
  font-size: clamp(.78rem, 1.05vw, .92rem);
  letter-spacing: .26em;
  text-transform: uppercase;
  color: color-mix(in srgb, var(--oliva-sutil) 82%, #000 18%);
  opacity: .92;
}

/* Título com melhor equilíbrio de linhas e largura */
.hero--servicos.hero--plain h1 {
  margin: 0;
  font-family: "Cormorant Garamond", serif;
  font-weight: 700;
  font-size: clamp(2.4rem, 3.8vw + .1rem, 3.8rem);
  line-height: 1.12;
  letter-spacing: .2px;
  text-wrap: balance;
  max-inline-size: clamp(18ch, 48vw, 22ch); /* limita largura pra não “cair” */
  color: color-mix(in srgb, var(--marrom-terra-firme) 90%, #000 10%);
}

/* Subtítulo com contraste e ritmo */
.hero--servicos.hero--plain .hero-lead {
  margin: 0;
  max-inline-size: 64ch;
  font-size: clamp(1.02rem, 1.7vw, 1.22rem);
  line-height: 1.7;
  color: color-mix(in srgb, var(--marrom-terra-firme) 83%, #000 17%);
}

/* CTAs centradas, hierarquia clara (primária + link) */
.hero--servicos.hero--plain .hero-cta {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: clamp(.9rem, 1vw, 1.1rem);
  margin-top: .4rem;
}

.hero--servicos.hero--plain .hero-cta .btn-primary {
  padding: .85rem 1.4rem;
  border-radius: 999px;
  font-weight: 700;
  box-shadow: 0 16px 28px rgba(62,39,49,.18);
  transform: translateZ(0);
  transition: transform 180ms ease, box-shadow 180ms ease, background-color 180ms ease;
}
@media (hover: hover) {
  .hero--servicos.hero--plain .hero-cta .btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 22px 44px rgba(62,39,49,.24);
  }
}

/* CTA secundária sem sublinhado, alinhada ao estilo global */
.hero--servicos.hero--plain .hero-cta .btn-secondary {
  font-weight: 700;
  text-decoration: none;
  opacity: .96;
  transition: transform .2s ease, box-shadow .25s ease, filter .2s ease, opacity 180ms ease;
}
.hero--servicos.hero--plain .hero-cta .btn-secondary:hover,
.hero--servicos.hero--plain .hero-cta .btn-secondary:focus-visible {
  opacity: 1;
}

/* Microajustes responsivos */
@media (max-width: 960px) {
  .hero--servicos.hero--plain h1 { max-inline-size: 24ch; }
  .hero--servicos.hero--plain .hero-lead { max-inline-size: 60ch; }
}
@media (max-width: 720px) {
  .hero--servicos.hero--plain { padding-block: clamp(1rem, 3vh, 2rem); }
  .hero--servicos.hero--plain h1 { font-size: clamp(2.1rem, 6vw, 2.6rem); }
  .hero--servicos.hero--plain .hero-lead { font-size: clamp(1rem, 3.2vw, 1.12rem); }
}

/* === SECTION SERVIÇOS (carrossel) — refinado ==================================
   Checklist: contraste AA ✓ · foco AA ✓ · fallback edge fade ✓ · prefers-reduced-motion ✓ · scroll snap ✓ · hover estável ✓
   ============================================================================ */

/* === Tokens locais === */
.section-servicos {
  --servicos-gap: clamp(1rem, 2vw, 1.75rem);
  --servicos-radius: 1.25rem;
  --servicos-radius-pill: 999px;
  --servicos-shadow-sm: 0 8px 24px rgba(62, 39, 49, 0.10);
  --servicos-shadow-md: 0 12px 28px rgba(62, 39, 49, 0.14);
  --servicos-shadow-lg: 0 18px 42px rgba(62, 39, 49, 0.20);
  --servicos-bg-base: #fdf9f5;
  --servicos-surface: #ffffff;
  --servicos-surface-warm: #fff8f1;
  --servicos-border: #d9c5ac;
  --servicos-border-strong: #ba7960;
  --servicos-text: #3f2f2a;
  --servicos-text-soft: #5a443d;
  --servicos-accent: #4c2c33;
  --servicos-cta-dark: #402129;
  --servicos-focus: #caa06d;
  --servicos-transition: 220ms cubic-bezier(0.22, 0.61, 0.36, 1);
  --servicos-cta-sheen: rgba(255, 255, 255, 0.22);
}

@supports (color: color-mix(in srgb, red 50%, white)) {
  .section-servicos {
    --servicos-border: color-mix(in srgb, var(--dourado-fosco) 42%, #fff 58%);
    --servicos-border-strong: color-mix(in srgb, var(--terracota-queimado) 42%, #fff 58%);
    --servicos-text: color-mix(in srgb, var(--marrom-terra-firme) 88%, #000 12%);
    --servicos-text-soft: color-mix(in srgb, var(--terracota-queimado) 58%, #000 42%);
    --servicos-accent: color-mix(in srgb, var(--marsala-profundo) 92%, #000 8%);
    --servicos-cta-dark: color-mix(in srgb, var(--marsala-profundo) 94%, #000 6%);
    --servicos-focus: color-mix(in srgb, var(--dourado-fosco) 55%, #000 45%);
    --servicos-cta-sheen: rgba(255, 255, 255, 0.18);
    --servicos-surface-warm: color-mix(in srgb, #fff 90%, var(--areia-dourada) 10%);
  }
}

/* === Base do container === */
.section-servicos {
  background-color: var(--servicos-bg-base);
  background-image:
    radial-gradient(180% 140% at 110% -10%, rgba(117, 42, 42, 0.08), transparent 60%),
    radial-gradient(120% 100% at -15% 15%, rgba(201, 174, 143, 0.20), transparent 62%),
    linear-gradient(180deg, rgba(255, 255, 255, 0.98), rgba(255, 255, 255, 0.92));
  container: servicos / inline-size;
  padding-block: clamp(2rem, 5vw, 3.25rem);
}

.carousel-servicos {
  position: relative;
  inline-size: min(100%, 1200px);
  margin-inline: auto;
  padding-inline: clamp(1rem, 3vw, 2rem);
  overflow: hidden;
  border-radius: calc(var(--servicos-radius) + 0.35rem);
  background-color: transparent;
  box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.15);
}

@supports (content-visibility: auto) {
  .carousel-servicos {
    content-visibility: auto;
    contain-intrinsic-size: 600px 400px;
  }
}

/* === Trilho e scroll snap === */
.carousel-servicos__track {
  position: relative;
  display: flex;
  gap: var(--servicos-gap);
  overflow-x: auto;
  scroll-behavior: smooth;
  scroll-snap-type: x mandatory;
  scroll-padding-inline: clamp(1rem, 3vw, 2rem);
  padding-block: clamp(1.2rem, 2.5vw, 1.8rem);
  padding-inline: 0.2rem;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  scrollbar-color: var(--servicos-accent) transparent;
  outline: 0;
  mask-image: linear-gradient(to right, transparent 0, #000 6%, #000 94%, transparent 100%);
  -webkit-mask-image: linear-gradient(to right, transparent 0, #000 6%, #000 94%, transparent 100%);
}

.carousel-servicos__track:focus-visible,
.carousel-servicos__track:focus-within {
  outline: 3px solid var(--servicos-focus);
  outline-offset: 4px;
}

.carousel-servicos__track::-webkit-scrollbar { height: 0.65rem; }
.carousel-servicos__track::-webkit-scrollbar-track { background: transparent; }
.carousel-servicos__track::-webkit-scrollbar-thumb {
  background: var(--servicos-accent);
  border-radius: var(--servicos-radius-pill);
  border: 2px solid transparent;
}
.carousel-servicos__track::-webkit-scrollbar-thumb:hover {
  background: var(--servicos-cta-dark);
}

@supports not (mask-image: linear-gradient(to right, transparent, #000)) {
  .carousel-servicos__track::before,
  .carousel-servicos__track::after {
    content: "";
    position: absolute;
    inset-block: 0;
    inline-size: clamp(1.5rem, 6vw, 3rem);
    pointer-events: none;
    background: linear-gradient(to right, var(--servicos-bg-base), transparent);
  }

  .carousel-servicos__track::before { inset-inline-start: 0; }
  .carousel-servicos__track::after {
    inset-inline-end: 0;
    transform: scaleX(-1);
  }
}

/* === Cartões === */
.carousel-servicos__item {
  flex: 0 0 auto;
  inline-size: min(90%, 20rem);
  scroll-snap-align: start;
  scroll-snap-stop: always;
  display: grid;
  gap: 0.9rem;
  padding: clamp(1.25rem, 3vw, 1.75rem);
  border-radius: var(--servicos-radius);
  border: 1px solid transparent;
  background:
    linear-gradient(180deg, var(--servicos-surface), var(--servicos-surface-warm)) padding-box,
    linear-gradient(135deg, var(--servicos-border), rgba(255, 255, 255, 0)) border-box;
  box-shadow: var(--servicos-shadow-sm);
  transition:
    transform var(--servicos-transition),
    box-shadow var(--servicos-transition),
    background-color var(--servicos-transition),
    border-color var(--servicos-transition);
  will-change: transform;
}

.carousel-servicos__item:hover,
.carousel-servicos__item:focus-within {
  transform: translateY(-4px);
  box-shadow: var(--servicos-shadow-md);
  border-color: var(--servicos-border-strong);
}

.carousel-servicos__header h3 {
  margin: 0;
  font-family: "Cormorant Garamond", serif;
  font-weight: 700;
  font-size: clamp(1.35rem, 2.6vw, 1.85rem);
  letter-spacing: 0.015em;
  color: var(--servicos-accent);
}

.carousel-servicos__subtitle {
  margin: 0.15rem 0 0;
  font-size: 0.98rem;
  color: var(--servicos-text-soft);
}

.carousel-servicos__body {
  color: var(--servicos-text);
  font-size: 1rem;
  line-height: 1.65;
  overflow-wrap: break-word;
  text-wrap: balance;
  text-wrap: pretty;
  hyphens: auto;
}

/* === CTA === */
.carousel-servicos__cta {
  justify-self: start;
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  min-inline-size: 2.75rem;
  min-block-size: 2.75rem;
  padding: 0.6rem 1.2rem;
  border-radius: var(--servicos-radius-pill);
  border: 1px solid var(--servicos-border-strong);
  background:
    linear-gradient(180deg,
      color-mix(in srgb, #ffffff 92%, var(--areia-dourada) 8%),
      color-mix(in srgb, #ffffff 86%, var(--areia-dourada) 14%));
  color: var(--servicos-cta-dark);
  font-weight: 700;
  letter-spacing: 0.01em;
  text-decoration: none;
  transition:
    transform var(--servicos-transition),
    box-shadow var(--servicos-transition),
    background-color var(--servicos-transition),
    color var(--servicos-transition),
    border-color var(--servicos-transition);
  position: relative;
  isolation: isolate;
}

@supports not (color: color-mix(in srgb, red 50%, white)) {
  .carousel-servicos__cta {
    background: linear-gradient(180deg, #fff8f1, #f5e5d6);
  }
}

.carousel-servicos__cta::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: linear-gradient(120deg, transparent 35%, var(--servicos-cta-sheen) 50%, transparent 68%);
  transform: translateX(-120%);
  transition: transform 360ms cubic-bezier(0.22, 0.61, 0.36, 1);
  pointer-events: none;
  z-index: -1;
}

.carousel-servicos__cta:hover,
.carousel-servicos__cta:focus-visible {
  background: var(--servicos-accent);
  color: #ffffff;
  box-shadow: var(--servicos-shadow-lg);
  border-color: var(--servicos-border-strong);
}

.carousel-servicos__cta:hover::after,
.carousel-servicos__cta:focus-visible::after {
  transform: translateX(0%);
}

.carousel-servicos__cta:focus-visible {
  outline: 3px solid var(--servicos-focus);
  outline-offset: 3px;
}

/* === Navegação lateral === */
.carousel-servicos__nav {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  inline-size: 2.85rem;
  block-size: 2.85rem;
  min-inline-size: 2.75rem;
  min-block-size: 2.75rem;
  border-radius: 50%;
  display: grid;
  place-items: center;
  cursor: pointer;
  border: 1px solid var(--servicos-border);
  background:
    linear-gradient(180deg,
      color-mix(in srgb, #ffffff 92%, var(--areia-dourada) 8%),
      color-mix(in srgb, #ffffff 86%, var(--areia-dourada) 14%));
  color: var(--servicos-text);
  box-shadow: var(--servicos-shadow-sm);
  transition:
    transform var(--servicos-transition),
    box-shadow var(--servicos-transition),
    background-color var(--servicos-transition),
    color var(--servicos-transition),
    border-color var(--servicos-transition);
  z-index: 5;
}

@supports not (color: color-mix(in srgb, red 50%, white)) {
  .carousel-servicos__nav {
    background: linear-gradient(180deg, #ffffff, #f2dfce);
  }
}

.carousel-servicos__nav:hover,
.carousel-servicos__nav:focus-visible {
  background: var(--servicos-accent);
  color: #ffffff;
  border-color: var(--servicos-border-strong);
  box-shadow: var(--servicos-shadow-md);
  transform: translateY(-50%) scale(1.03);
}

.carousel-servicos__nav:focus-visible {
  outline: 3px solid var(--servicos-focus);
  outline-offset: 3px;
}

.carousel-servicos__nav--prev { inset-inline-start: 0.75rem; }
.carousel-servicos__nav--next { inset-inline-end: 0.75rem; }

/* === Responsividade === */
@media (max-width: 720px) {
  .carousel-servicos { padding-inline: 1rem; }
  .carousel-servicos__track { gap: 1rem; padding-block: 1rem; }
  .carousel-servicos__item { inline-size: 85%; }
  .carousel-servicos__nav { inline-size: 2.75rem; block-size: 2.75rem; }
}

@container servicos (min-width: 880px) {
  .carousel-servicos__item { inline-size: 22rem; }
}

@container servicos (min-width: 960px) {
  .carousel-servicos__item { inline-size: 23rem; }
}

@container servicos (min-width: 1100px) {
  .carousel-servicos__item { inline-size: 24rem; }
}

/* === Movimento reduzido === */
@media (prefers-reduced-motion: reduce) {
  .carousel-servicos__track { scroll-behavior: auto; }
  .carousel-servicos__item,
  .carousel-servicos__cta,
  .carousel-servicos__nav {
    transition: none !important;
    transform: none !important;
    box-shadow: var(--servicos-shadow-sm) !important;
  }
  .carousel-servicos__cta::after { transition: none !important; }
}

/* ====== CARD LAYOUT (altura coerente) ====== */
.carousel-servicos__item.card-servico {
  /* mantém teu visual mas separa em 3 zonas */
  display: grid;
  grid-template-rows: auto 1fr auto;
  gap: 0.9rem;
  min-block-size: 100%;
}

/* ====== HEADER ====== */
.card-servico__header {
  display: grid;
  gap: 0.4rem;
}

.card-servico__title {
  margin: 0;
  font: 700 clamp(1.2rem, 2.4vw, 1.6rem) / 1.15 var(--font-display, "Cormorant Garamond", serif);
  color: var(--servicos-accent);
  letter-spacing: 0.015em;
}

.card-servico__subtitle {
  margin: 0.1rem 0 0;
  font-size: 0.98rem;
  color: var(--servicos-text-soft);
}

/* ====== BADGES ====== */
.card-servico__badges {
  display: flex;
  flex-wrap: wrap;
  gap: 0.4rem 0.5rem;
  margin-top: 0.25rem;
  padding: 0;
  list-style: none;
}

.badge {
  --_bdg-bg: color-mix(in srgb, var(--areia-dourada, #e9d4b5) 22%, #fff 78%);
  --_bdg-bd: color-mix(in srgb, var(--areia-dourada, #e9d4b5) 42%, #fff 58%);
  --_bdg-tx: color-mix(in srgb, var(--marsala-profundo, #4c2c33) 86%, #000 14%);
  display: inline-block;
  padding: 0.28rem 0.6rem;
  border-radius: 999px;
  border: 1px solid var(--_bdg-bd);
  background: var(--_bdg-bg);
  color: var(--_bdg-tx);
  font-size: 0.78rem;
  line-height: 1;
  white-space: nowrap;
}

.badge--online {
  --_bdg-bg: color-mix(in srgb, #34c759 24%, #fff 76%);
  --_bdg-bd: color-mix(in srgb, #34c759 40%, #fff 60%);
}

.badge--grac {
  /* “gratuita” */
  --_bdg-bg: color-mix(in srgb, #2db7f5 24%, #fff 76%);
  --_bdg-bd: color-mix(in srgb, #2db7f5 40%, #fff 60%);
}

/* ====== BODY + TEXTO ====== */
.card-servico__body {
  display: grid;
  gap: 0.8rem;
  color: var(--servicos-text);
}

.card-servico__body > p {
  margin: 0;
  line-height: 1.6;
  text-wrap: balance;
  text-wrap: pretty;
  overflow-wrap: break-word;
}

/* ====== META (DL compacto em 3 colunas) ====== */
.card-servico__meta {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 0.6rem 0.8rem;
  margin: 0;
}

.card-servico__meta > div { min-width: 0; }

.card-servico__meta dt {
  margin: 0 0 0.1rem;
  font-size: 0.74rem;
  color: color-mix(in srgb, var(--servicos-text-soft) 84%, #000 16%);
  text-transform: uppercase;
  letter-spacing: 0.04em;
}

.card-servico__meta dd {
  margin: 0;
  font-weight: 600;
  color: color-mix(in srgb, var(--servicos-accent) 88%, #000 12%);
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
}

/* ====== BULLETS ====== */
.card-servico__bullets {
  display: grid;
  gap: 0.42rem;
  margin: 0;
  padding-inline-start: 1.1rem;
  color: color-mix(in srgb, var(--servicos-text) 92%, #000 8%);
}

.card-servico__bullets li { line-height: 1.35; }

/* ====== FOOTER / CTA alinhada ====== */
.card-servico__footer {
  display: flex;
  align-items: center;
  justify-content: flex-start; /* ou flex-end, se preferir colar na direita */
  margin-top: 0.1rem;
}

/* Herdando tua CTA e reforçando contraste quando sobre fundo claro */
.card-servico .carousel-servicos__cta {
  border-color: var(--servicos-border-strong);
}

.card-servico .carousel-servicos__cta:hover,
.card-servico .carousel-servicos__cta:focus-visible {
  background: var(--servicos-accent);
  color: #fff;
}

/* ====== RESPONSIVIDADE FINA ====== */
@container servicos (max-width: 640px) {
  .card-servico__meta {
    grid-template-columns: 1fr 1fr;
  }
}

@container servicos (min-width: 1120px) {
  .card-servico__title { font-size: 1.75rem; }
  .card-servico__meta dd { font-size: 0.98rem; }
}

/* ====== FALLBACK sem color-mix ====== */
@supports not (color: color-mix(in srgb, red 50%, white)) {
  .badge {
    background: #f3e6d6;
    border-color: #e2cdb1;
    color: #4c2c33;
  }
  .card-servico__meta dt { color: #6a5147; }
  .card-servico__meta dd { color: #4c2c33; }
}

  /* ===== DIFERENCIAIS ===== */
  .section-diferenciais {
    background: linear-gradient(
      160deg,
      color-mix(in srgb, #fff 96%, var(--areia-dourada) 4%) 0%,
      color-mix(in srgb, #fff 92%, var(--areia-dourada) 8%) 100%
    );
    padding-block: clamp(3rem, 8vh, 5.5rem);

    /* Ativa a Container Query usada abaixo */
    container-name: diferenciais;
    container-type: inline-size;
  }

  .diferenciais-grid {
    display: grid;
    gap: clamp(2.4rem, 5vw, 3.6rem);
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    align-items: start;
    max-width: 1180px;
    margin-inline: auto;
    padding-inline: clamp(1rem, 4vw, 2rem);
  }

  .diferenciais-copy {
    display: grid;
    gap: 1rem;
    padding: clamp(1.8rem, 3vw, 2.4rem);
    border-radius: 1.25rem;
    background: rgba(255, 255, 255, 0.65);
    border: 1px solid color-mix(in srgb, var(--dourado-fosco) 28%, white 72%);
    backdrop-filter: blur(8px);
    box-shadow: 0 16px 32px -20px rgba(0, 0, 0, 0.12);
    transition: box-shadow 0.4s ease, transform 0.4s ease;
  }
  .diferenciais-copy:hover {
    transform: translateY(-3px);
    box-shadow: 0 24px 48px -20px rgba(0, 0, 0, 0.18);
  }
  .diferenciais-copy h2 {
    font-family: var(--font-display);
    font-size: clamp(1.9rem, 3.5vw, 2.4rem);
    line-height: 1.15;
    color: color-mix(in srgb, var(--marsala-profundo) 90%, #000 10%);
  }
  .diferenciais-copy p {
    color: color-mix(in srgb, var(--marrom-terra-firme) 80%, black 20%);
    line-height: 1.7;
    max-width: 65ch;
  }

  .diferenciais-list {
    margin: 0;
    padding: 0;
    list-style: none;
    display: grid;
    gap: 0.6rem;
  }
  .diferenciais-list li {
    position: relative;
    padding-inline-start: 1.4rem;
    font-weight: 600;
    color: color-mix(in srgb, var(--marrom-terra-firme) 88%, #000 12%);
  }
  .diferenciais-list li::before {
    content: "•";
    position: absolute;
    left: 0;
    color: color-mix(in srgb, var(--marsala-profundo) 90%, #000 10%);
    font-size: 1.2rem;
    line-height: 1;
    top: 0.05rem;
  }

  .diferenciais-cards {
    display: grid;
    gap: clamp(1.8rem, 4vw, 2.4rem);
  }
  .mini-card {
    position: relative;
    padding: clamp(1.8rem, 3.5vw, 2.4rem);
    border-radius: 1.25rem;
    background: linear-gradient(
      180deg,
      color-mix(in srgb, #fff 94%, var(--areia-dourada) 6%),
      color-mix(in srgb, #fff 98%, var(--dourado-fosco) 2%)
    );
    border: 1px solid color-mix(in srgb, var(--dourado-fosco) 25%, #fff 75%);
    box-shadow: 0 14px 30px -18px rgba(0, 0, 0, 0.12);
    transition:
      transform 0.35s cubic-bezier(0.16, 1, 0.3, 1),
      box-shadow 0.4s ease,
      border-color 0.3s ease;
    overflow: hidden;
  }
  .mini-card::after {
    content: "";
    position: absolute;
    inset: 0;
    background: radial-gradient(circle at top right, rgba(117, 42, 42, 0.12), transparent 70%);
    opacity: 0;
    transform: scale(1.1);
    transition: opacity 0.4s ease, transform 0.4s ease;
  }
  @media (hover: hover) {
    .mini-card:hover,
    .mini-card:focus-within {
      transform: translateY(-5px);
      box-shadow: 0 24px 48px -22px rgba(0, 0, 0, 0.18);
      border-color: color-mix(in srgb, var(--dourado-fosco) 40%, #fff 60%);
    }
    .mini-card:hover::after,
    .mini-card:focus-within::after {
      opacity: 1;
      transform: scale(1);
    }
  }
  .mini-card h3 {
    margin: 0 0 0.5rem;
    font-family: "Cormorant Garamond", serif;
    font-size: clamp(1.4rem, 2.6vw, 1.8rem);
    color: color-mix(in srgb, var(--marsala-profundo) 88%, #000 12%);
  }
  .mini-card p {
    margin: 0;
    color: color-mix(in srgb, var(--marrom-terra-firme) 82%, black 18%);
    line-height: 1.55;
  }

  /* animação de entrada */
  @keyframes fade-up {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
  [data-animate="fade-up"].is-visible {
    animation: fade-up 0.6s ease forwards;
  }

  /* ===== PROCESSO ===== */
  .section-processo {
    background:
      radial-gradient(100% 160% at 10% 0%, rgba(201,174,143,0.18), transparent 60%),
      linear-gradient(180deg, rgba(255,255,255,0.95), rgba(255,255,255,0.88));
    padding-block: clamp(3rem, 6vw, 5rem);
  }

  .process-steps {
    margin: 0;
    padding: 0;
    list-style: none;
    display: grid;
    gap: clamp(1.5rem, 3vw, 2.4rem);
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    align-items: stretch;
  }

  .process-step {
    position: relative;
    display: grid;
    gap: 0.8rem;
    padding: clamp(1.8rem, 3.6vw, 2.4rem);
    border-radius: 1.25rem;
    background: linear-gradient(
      180deg,
      color-mix(in srgb, #fff 94%, var(--areia-dourada) 6%) 0%,
      color-mix(in srgb, #fff 98%, var(--areia-dourada) 2%) 100%
    );
    border: 1px solid color-mix(in srgb, var(--dourado-fosco) 25%, white 75%);
    box-shadow: 0 16px 34px -18px rgba(0, 0, 0, 0.15);
    transition:
      transform 0.3s ease,
      box-shadow 0.3s ease,
      border-color 0.3s ease;
    isolation: isolate;
  }

  .process-step::before {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    background: radial-gradient(circle at 30% 20%, rgba(117, 42, 42, 0.12), transparent 70%);
    opacity: 0;
    transition: opacity 0.35s ease;
    z-index: -1;
  }

  @media (hover: hover) {
    .process-step:hover,
    .process-step:focus-within {
      transform: translateY(-6px);
      border-color: color-mix(in srgb, var(--dourado-fosco) 45%, white 55%);
      box-shadow: 0 26px 46px -20px rgba(0, 0, 0, 0.22);
    }
    .process-step:hover::before,
    .process-step:focus-within::before { opacity: 1; }
  }

  .step-number {
    inline-size: 2.8rem;
    block-size: 2.8rem;
    border-radius: 50%;
    display: grid;
    place-items: center;
    font-weight: 700;
    font-size: 1.1rem;
    color: #fff;
    background: linear-gradient(
      135deg,
      color-mix(in srgb, var(--marsala-profundo) 88%, black 12%) 0%,
      color-mix(in srgb, var(--terracota-queimado) 78%, white 22%) 100%
    );
    box-shadow: 0 10px 22px -10px rgba(117, 42, 42, 0.4);
    margin-bottom: 0.4rem;
  }

  .process-step h3 {
    margin: 0;
    font-family: var(--font-display);
    font-weight: 700;
    font-size: clamp(1.25rem, 2.2vw, 1.6rem);
    color: color-mix(in srgb, var(--marsala-profundo) 85%, black 15%);
  }

  .process-step p {
    margin: 0;
    font-size: 1rem;
    line-height: 1.6;
    color: color-mix(in srgb, var(--marrom-terra-firme) 80%, black 20%);
  }

  @media (max-width: 720px) {
    .process-steps { gap: 1.6rem; }
    .process-step { padding: 1.5rem 1.6rem; }
  }

/* ===== CTA (v2.1 — stack vertical centrado) ===== */

/* força layout em coluna única e centraliza tudo */
.cta-card {
  display: flex;                  /* troca grid por flex p/ empilhar fácil */
  flex-direction: column;
  align-items: center;            /* centraliza filhos */
  justify-content: center;
  text-align: center;
  gap: clamp(var(--space-2), 2.5vw, var(--space-3));

  max-inline-size: 44rem;         /* largura de leitura boa */
  margin-inline: auto;
  padding: clamp(var(--space-5), 5vw, calc(var(--space-5) + 1rem));
  border-radius: var(--radius-xl);
  background: color-mix(in srgb, rgba(255, 255, 255, 0.9) 85%, rgba(117, 42, 42, 0.1) 15%);
}

/* títulos e texto limitados pra não “esticar” demais */
.cta-card h2,
.cta-card p,
.cta-actions {
  inline-size: min(100%, 38rem);
  margin: 0;
}

/* botão 100% central, sem chance de desalinhar */
.cta-card .btn.btn-primary {
  align-self: center;
  justify-self: center;
  border-radius: 999px;
  padding-inline: clamp(1.4rem, 3vw, 2rem);
  padding-block: 0.9rem;
  background: linear-gradient(
    130deg,
    color-mix(in srgb, var(--marsala-profundo) 96%, #000 4%),
    color-mix(in srgb, var(--marsala-profundo) 86%, #fff 14%)
  );
  color: #fff;
  border: 1px solid color-mix(in srgb, var(--marsala-profundo) 55%, #fff 45%);
  box-shadow: 0 18px 40px rgba(117, 42, 42, 0.28);
}

/* ações (se tiver mais de um botão) continuam centralizadas e em linha */
.cta-actions {
  display: inline-flex;
  gap: clamp(.6rem, 1.8vw, 1rem);
  align-items: center;
  justify-content: center;
}

/* remove o layout lado a lado das container queries anteriores */
@container cta (min-width: 920px) {
  .cta-card {
    /* garante 1 coluna sempre */
    flex-direction: column;
    align-items: center;
    text-align: center;
    gap: clamp(var(--space-2), 2.5vw, var(--space-3));
  }
}

/* se houver imagem/figure dentro do CTA, ela também fica centralizada e com limite */
.cta-card > figure {
  margin: 0;
  inline-size: min(100%, 36rem);
  max-block-size: 18rem;
  overflow: hidden;
  border-radius: calc(var(--radius-xl) - .25rem);
}
.cta-card > figure img {
  inline-size: 100%;
  block-size: 100%;
  object-fit: cover;
  display: block;
}


/* ---------- FORCED COLORS ---------- */
@media (forced-colors: active) {
  .hero-copy,
  .mini-card,
  .process-step,
  .cta-card {
    forced-color-adjust: auto;
    border: 1px solid CanvasText;
    background: Canvas;
    box-shadow: none !important;
  }
}

/* ---------- SUPPORTS ---------- */
@supports (backdrop-filter: blur(4px)) {
  .hero-copy,
  .mini-card {
    backdrop-filter: blur(8px);
  }
}


