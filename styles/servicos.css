/* =====================
   servicos.css — Página Serviços (refinado e limpo)
   Camadas: tokens, base, utilities, components, pages
   ===================== */

@layer tokens, base, utilities, components, pages;

/* ---------- TOKENS ---------- */
@layer tokens {
  :root {
    /* Espaçamentos mapeando tokens globais */
    --space-1: var(--space-2xs);
    --space-2: var(--space-xs);
    --space-3: var(--space-sm);
    --space-4: var(--space-md);
    --space-5: var(--space-lg);
    --space-6: var(--space-xl);
    --space-7: clamp(3rem, 8vw, 4.5rem);

    /* Raios e sombras (apenas os usados) */
    --radius-sm: 0.75rem;
    --radius-md: 1.2rem;
    --radius-xl: clamp(2rem, 5vw, 2.75rem);

    --shadow-md: 0 16px 32px rgba(62, 39, 49, 0.12);
    --shadow-xl: 0 34px 72px rgba(62, 39, 49, 0.22);

    /* Tipografia complementar */
    --fs-sm: clamp(0.85rem, 1.4vw, 0.95rem);
    --fs-base: clamp(0.98rem, 1.6vw, 1.08rem);
    --fs-lg: clamp(1.1rem, 2.4vw, 1.35rem);
    --fs-xl: clamp(1.5rem, 3vw, 2.1rem);
    --lh-tight: 1.25;
    --lh-base: 1.65;

    /* Cores derivadas da paleta */
    --surface-glass: color-mix(in srgb, rgba(255, 255, 255, 0.65) 80%, rgba(201, 174, 143, 0.35) 20%);
    --border: color-mix(in srgb, var(--dourado-fosco) 40%, #ffffff 60%);
    --border-strong: color-mix(in srgb, var(--terracota-queimado) 40%, #ffffff 60%);
    --text: color-mix(in srgb, var(--marrom-terra-firme) 90%, #000000 10%);
    --text-muted: color-mix(in srgb, var(--marrom-terra-firme) 70%, #000000 30%);
    --accent: var(--terracota-queimado);

    --transition-fast: 180ms ease-out;
    --transition-base: 260ms cubic-bezier(0.22, 0.61, 0.36, 1);
    --transition-slow: 420ms cubic-bezier(0.16, 1, 0.3, 1);
  }
}

/* ---------- BASE ---------- */
@layer base {
  .section {
    position: relative;
    isolation: isolate;
    padding-block: clamp(var(--space-5), 9vw, var(--space-7));
  }

  .section-heading {
    display: grid;
    gap: var(--space-2);
    justify-items: center;
    text-align: center;
    margin-block-end: clamp(var(--space-4), 6vw, var(--space-5));
  }

  .section-heading .kicker {
    margin: 0;
    text-transform: uppercase;
    letter-spacing: 0.28em;
    font-size: var(--fs-sm);
    color: color-mix(in srgb, var(--oliva-sutil) 80%, #000 20%);
  }

  .section-heading h2 {
    margin: 0;
    font-family: "Cormorant Garamond", serif;
    font-size: clamp(2.1rem, 4vw, 2.8rem);
    line-height: 1.1;
  }

  .section-text {
    margin: 0;
    max-inline-size: min(68ch, 90%);
    font-size: var(--fs-lg);
    line-height: var(--lh-base);
    color: var(--text-muted);
  }

  .btn,
  .btn-primary
   {
    position: relative;
    inline-size: fit-content;
    font-weight: 600;
    letter-spacing: 0.02em;
    transition:
      transform var(--transition-fast),
      box-shadow var(--transition-fast),
      background-color var(--transition-fast),
      color var(--transition-fast);
  }

  .btn:focus-visible,
  .btn-primary:focus-visible
   {
    outline: 3px solid color-mix(in srgb, var(--accent) 45%, #ffffff 55%);
    outline-offset: 4px;
  }

  @media (hover: hover) {
    .btn:hover,
    .btn-primary:hover
     {
      transform: translateY(-2px);
      box-shadow: 0 14px 28px rgba(117, 42, 42, 0.18);
    }
  }
}

/* ---------- UTILITIES ---------- */
@layer utilities {
  [data-animate] {
    opacity: 0;
    transform: translateY(32px);
    transition:
      opacity var(--transition-slow),
      transform var(--transition-slow);
    will-change: opacity, transform;
  }
  [data-animate].is-visible {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Acessibilidade de movimento reduzido */
@media (prefers-reduced-motion: reduce) {
  @layer utilities {
    [data-animate] {
      opacity: 1 !important;
      transform: none !important;
      transition: none !important;
    }
    .btn,
    .btn-primary {
      transition: none !important;
    }
  }
  @layer components {
    .mini-card,
    .process-step,
    .cta-card .btn.btn-primary {
      transition: none !important;
    }
  }
}

/* ===== HERO — alinhamento, tipografia e ritmo visual ===== */
.hero--servicos.hero--plain {
  position: relative;
  min-block-size: calc(100svh - var(--header-offset, 0px));
  padding: 0 clamp(1rem, 4vw, 2rem);
  overflow: hidden;
}

/* Mantém o grid se precisar de elementos extras, mas o copy manda no centro */
.hero--servicos.hero--plain .hero-grid {
  display: contents; /* evita camada extra e herda o alinhamento do copy */
}

/* Centro geométrico real do texto */
.hero--servicos.hero--plain .hero-copy {
  position: absolute;
  top: 50%; left: 50%;
  transform: translate(-50%, -50%);
  max-inline-size: min(62rem, 92vw);
  width: 100%;

  /* alinhamento e espaçamento coerente */
  display: grid;
  justify-items: center;
  text-align: center;
  gap: clamp(1rem, 2.2vw, 1.6rem);

  /* limpa ruídos visuais (sem card/vidro) */
  background: transparent;
  border-radius: 0;
  box-shadow: none;
  backdrop-filter: none;
  padding: 0;
}

/* Eyebrow fino e legível */
.hero--servicos.hero--plain .hero-eyebrow {
  margin: 0;
  font-size: clamp(.78rem, 1.05vw, .92rem);
  letter-spacing: .26em;
  text-transform: uppercase;
  color: color-mix(in srgb, var(--oliva-sutil) 82%, #000 18%);
  opacity: .92;
}

/* Título com melhor equilíbrio de linhas e largura */
.hero--servicos.hero--plain h1 {
  margin: 0;
  font-family: "Cormorant Garamond", serif;
  font-weight: 700;
  font-size: clamp(2.4rem, 3.8vw + .1rem, 3.8rem);
  line-height: 1.12;
  letter-spacing: .2px;
  text-wrap: balance;
  max-inline-size: clamp(18ch, 48vw, 22ch); /* limita largura pra não “cair” */
  color: color-mix(in srgb, var(--marrom-terra-firme) 90%, #000 10%);
}

/* Subtítulo com contraste e ritmo */
.hero--servicos.hero--plain .hero-lead {
  margin: 0;
  max-inline-size: 64ch;
  font-size: clamp(1.02rem, 1.7vw, 1.22rem);
  line-height: 1.7;
  color: color-mix(in srgb, var(--marrom-terra-firme) 83%, #000 17%);
}

/* CTAs centradas, hierarquia clara (primária + link) */
.hero--servicos.hero--plain .hero-cta {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: clamp(.9rem, 1vw, 1.1rem);
  margin-top: .4rem;
}

.hero--servicos.hero--plain .hero-cta .btn-primary {
  padding: .85rem 1.4rem;
  border-radius: 999px;
  font-weight: 700;
  box-shadow: 0 16px 28px rgba(62,39,49,.18);
  transform: translateZ(0);
  transition: transform 180ms ease, box-shadow 180ms ease, background-color 180ms ease;
}
@media (hover: hover) {
  .hero--servicos.hero--plain .hero-cta .btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 22px 44px rgba(62,39,49,.24);
  }
}

/* CTA secundária sem sublinhado, alinhada ao estilo global */
.hero--servicos.hero--plain .hero-cta .btn-secondary {
  font-weight: 700;
  text-decoration: none;
  opacity: .96;
  transition: transform .2s ease, box-shadow .25s ease, filter .2s ease, opacity 180ms ease;
}
.hero--servicos.hero--plain .hero-cta .btn-secondary:hover,
.hero--servicos.hero--plain .hero-cta .btn-secondary:focus-visible {
  opacity: 1;
}

/* Microajustes responsivos */
@media (max-width: 960px) {
  .hero--servicos.hero--plain h1 { max-inline-size: 24ch; }
  .hero--servicos.hero--plain .hero-lead { max-inline-size: 60ch; }
}
@media (max-width: 720px) {
  .hero--servicos.hero--plain { padding-block: clamp(1rem, 3vh, 2rem); }
  .hero--servicos.hero--plain h1 { font-size: clamp(2.1rem, 6vw, 2.6rem); }
  .hero--servicos.hero--plain .hero-lead { font-size: clamp(1rem, 3.2vw, 1.12rem); }
}

/* ===== SECTION SERVIÇOS (carrossel) — refinado ===== */
.section-servicos {
  /* fundo com luz suave e sem “glare” */
  background:
    radial-gradient(180% 140% at 110% -10%, rgba(117, 42, 42, 0.08), transparent 60%),
    radial-gradient(120% 100% at -15% 15%, rgba(201, 174, 143, 0.20), transparent 62%),
    linear-gradient(180deg, rgba(255, 255, 255, 0.98), rgba(255, 255, 255, 0.92));
  container: servicos / inline-size;
  padding-block: clamp(2rem, 5vw, 3.25rem); /* respira um pouco mais */
}

/* “Netflix meets terapia premium” */
.carousel-servicos {
  --gap: clamp(1rem, 2vw, 1.75rem);
  --radius: 1.25rem;
  --shadow: 0 8px 24px rgba(62, 39, 49, 0.10);
  --hover-shadow: 0 16px 36px rgba(62, 39, 49, 0.18);
  --border: color-mix(in srgb, var(--dourado-fosco) 42%, #fff 58%);
  --bg: color-mix(in srgb, #fff 94%, var(--areia-dourada) 6%);
  --bg-hover: color-mix(in srgb, #fff 90%, var(--areia-dourada) 10%);

  position: relative;
  inline-size: min(100%, 1200px);
  margin-inline: auto;
  padding-inline: clamp(1rem, 3vw, 2rem);
  overflow: hidden;

  /* suaviza composição e melhora performance */
  content-visibility: auto;
  contain-intrinsic-size: 600px 400px;
}

/* trilho com edge-fade e snap previsível */
.carousel-servicos__track {
  display: flex;
  gap: var(--gap);
  overflow-x: auto;
  scroll-behavior: smooth;
  scroll-snap-type: x mandatory;
  scroll-padding-inline: clamp(1rem, 3vw, 2rem); /* alinha o primeiro card ao padding do container */
  padding-block: clamp(1.2rem, 2.5vw, 1.8rem);
  -webkit-overflow-scrolling: touch;

  /* fade nas bordas para esconder cortes bruscos */
  mask-image: linear-gradient(to right, transparent 0, #000 6%, #000 94%, transparent 100%);
  -webkit-mask-image: linear-gradient(to right, transparent 0, #000 6%, #000 94%, transparent 100%);

  scrollbar-width: thin;
  scrollbar-color: color-mix(in srgb, var(--marsala-profundo) 30%, #fff 70%) transparent;
}
.carousel-servicos__track::-webkit-scrollbar { height: .6rem; }
.carousel-servicos__track::-webkit-scrollbar-thumb {
  background: color-mix(in srgb, var(--marsala-profundo) 40%, #fff 60%);
  border-radius: 999px;
}
.carousel-servicos__track::-webkit-scrollbar-thumb:hover {
  background: color-mix(in srgb, var(--marsala-profundo) 55%, #fff 45%);
}

/* item com “caixa de joias” — borda/brilho sutil e sombra macia */
.carousel-servicos__item {
  flex: 0 0 auto;
  inline-size: min(90%, 20rem);
  scroll-snap-align: start;
  scroll-snap-stop: always;
  background:
    linear-gradient(180deg, #fff, color-mix(in srgb, #fff 90%, var(--areia-dourada) 10%)) padding-box,
    linear-gradient(135deg, var(--border), rgba(255,255,255,0)) border-box; /* borda ativa suave */
  border: 1px solid transparent;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: clamp(1.25rem, 3vw, 1.75rem);
  display: grid;
  gap: 0.9rem;
  transition:
    transform .22s cubic-bezier(.22,.61,.36,1),
    box-shadow .25s ease,
    background-color .25s ease,
    border-color .25s ease,
    filter .25s ease;
  will-change: transform;
}
.carousel-servicos__item:hover {
  transform: translateY(-4px);
  box-shadow: var(--hover-shadow);
  background: var(--bg-hover);
  border-color: color-mix(in srgb, var(--dourado-fosco) 55%, #fff 45%);
}

/* título e subtítulo com hierarquia clara */
.carousel-servicos__header h3 {
  font-family: "Cormorant Garamond", serif;
  font-weight: 700;
  margin: 0;
  font-size: clamp(1.35rem, 2.6vw, 1.85rem);
  color: var(--marsala-profundo);
  letter-spacing: .2px;
}
.carousel-servicos__subtitle {
  margin: .1rem 0 0;
  font-size: .98rem;
  color: color-mix(in srgb, var(--terracota-queimado) 58%, #000 42%);
}

/* texto do corpo com leitura suave */
.carousel-servicos__body {
  color: color-mix(in srgb, var(--marrom-terra-firme) 90%, #000 10%);
  font-size: 1rem;
  line-height: 1.65;
  text-wrap: pretty;
  hyphens: auto;
}

/* CTA “pílula” com foco AA e micro brilho no hover */
.carousel-servicos__cta {
  justify-self: start;
  display: inline-flex;
  align-items: center;
  gap: .5rem;
  padding: .6rem 1.15rem;
  border-radius: 999px;
  border: 1px solid color-mix(in srgb, var(--marsala-profundo) 55%, #fff 45%);
  background:
    linear-gradient(180deg,
      color-mix(in srgb, #fff 92%, var(--areia-dourada) 8%),
      color-mix(in srgb, #fff 86%, var(--areia-dourada) 14%));
  color: color-mix(in srgb, var(--marsala-profundo) 86%, #000 14%);
  font-weight: 700;
  text-decoration: none;
  letter-spacing: .01em;
  transition:
    transform .2s ease,
    box-shadow .25s ease,
    background .25s ease,
    color .25s ease,
    border-color .25s ease;
  position: relative;
  isolation: isolate;
}
.carousel-servicos__cta::after {
  /* brilho diagonal discreto */
  content:"";
  position:absolute; inset:0;
  border-radius: inherit;
  background: linear-gradient(120deg, transparent 30%, rgba(255,255,255,.28) 50%, transparent 70%);
  transform: translateX(-120%);
  transition: transform .6s cubic-bezier(.22,.61,.36,1);
  pointer-events:none;
  z-index: -1;
}
.carousel-servicos__cta:hover {
  background: var(--marsala-profundo);
  color: #fff;
  transform: translateY(-2px);
  box-shadow: 0 12px 26px rgba(62,39,49,.22);
  border-color: color-mix(in srgb, var(--dourado-fosco) 58%, #fff 42%);
}
.carousel-servicos__cta:hover::after { transform: translateX(0%); }
.carousel-servicos__cta:focus-visible {
  outline: 3px solid color-mix(in srgb, var(--dourado-fosco) 55%, #000 45%);
  outline-offset: 2px;
}

/* botões de navegação com presença elegante e foco claro */
.carousel-servicos__nav {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  inline-size: 2.75rem;
  block-size: 2.75rem;
  border-radius: 50%;
  background:
    linear-gradient(180deg,
      color-mix(in srgb, #fff 92%, var(--areia-dourada) 8%),
      color-mix(in srgb, #fff 86%, var(--areia-dourada) 14%));
  border: 1px solid var(--border);
  color: color-mix(in srgb, var(--marrom-terra-firme) 90%, #000 10%);
  display: grid;
  place-items: center;
  cursor: pointer;
  transition: transform .2s ease, box-shadow .25s ease, background .25s ease, color .25s ease, border-color .25s ease;
  z-index: 5;
  box-shadow: 0 6px 18px rgba(0,0,0,.08);
}
.carousel-servicos__nav:hover {
  background: color-mix(in srgb, var(--marsala-profundo) 92%, #fff 8%);
  color: #fff;
  box-shadow: 0 10px 26px rgba(0,0,0,.16);
  transform: translateY(-50%) scale(1.06);
  border-color: color-mix(in srgb, var(--dourado-fosco) 55%, #fff 45%);
}
.carousel-servicos__nav:focus-visible {
  outline: 3px solid color-mix(in srgb, var(--dourado-fosco) 55%, #000 45%);
  outline-offset: 2px;
}
.carousel-servicos__nav--prev { left: .5rem; }
.carousel-servicos__nav--next { right: .5rem; }

/* ===== Responsividade & CQs ===== */
@media (max-width: 720px) {
  .carousel-servicos { padding-inline: 1rem; }
  .carousel-servicos__track { gap: 1rem; padding-block: 1rem; }
  .carousel-servicos__item { inline-size: 85%; }
  .carousel-servicos__nav { inline-size: 2.3rem; block-size: 2.3rem; }
}

/* container query: quando a seção couber mais, deixe os cards um pouco mais largos */
@container servicos (min-width: 880px) {
  .carousel-servicos__item { inline-size: 22rem; }
}
@container servicos (min-width: 1100px) {
  .carousel-servicos__item { inline-size: 24rem; }
}

/* ===== Acessibilidade & motion ===== */
@media (prefers-reduced-motion: reduce) {
  .carousel-servicos__track { scroll-behavior: auto; }
  .carousel-servicos__item,
  .carousel-servicos__cta,
  .carousel-servicos__nav {
    transition: none !important;
    transform: none !important;
  }
  .carousel-servicos__cta::after { transition: none !important; }
}

  /* ===== DIFERENCIAIS ===== */
  .section-diferenciais {
    background: linear-gradient(
      160deg,
      color-mix(in srgb, #fff 96%, var(--areia-dourada) 4%) 0%,
      color-mix(in srgb, #fff 92%, var(--areia-dourada) 8%) 100%
    );
    padding-block: clamp(3rem, 8vh, 5.5rem);

    /* Ativa a Container Query usada abaixo */
    container-name: diferenciais;
    container-type: inline-size;
  }

  .diferenciais-grid {
    display: grid;
    gap: clamp(2.4rem, 5vw, 3.6rem);
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    align-items: start;
    max-width: 1180px;
    margin-inline: auto;
    padding-inline: clamp(1rem, 4vw, 2rem);
  }

  .diferenciais-copy {
    display: grid;
    gap: 1rem;
    padding: clamp(1.8rem, 3vw, 2.4rem);
    border-radius: 1.25rem;
    background: rgba(255, 255, 255, 0.65);
    border: 1px solid color-mix(in srgb, var(--dourado-fosco) 28%, white 72%);
    backdrop-filter: blur(8px);
    box-shadow: 0 16px 32px -20px rgba(0, 0, 0, 0.12);
    transition: box-shadow 0.4s ease, transform 0.4s ease;
  }
  .diferenciais-copy:hover {
    transform: translateY(-3px);
    box-shadow: 0 24px 48px -20px rgba(0, 0, 0, 0.18);
  }
  .diferenciais-copy h2 {
    font-family: var(--font-display);
    font-size: clamp(1.9rem, 3.5vw, 2.4rem);
    line-height: 1.15;
    color: color-mix(in srgb, var(--marsala-profundo) 90%, #000 10%);
  }
  .diferenciais-copy p {
    color: color-mix(in srgb, var(--marrom-terra-firme) 80%, black 20%);
    line-height: 1.7;
    max-width: 65ch;
  }

  .diferenciais-list {
    margin: 0;
    padding: 0;
    list-style: none;
    display: grid;
    gap: 0.6rem;
  }
  .diferenciais-list li {
    position: relative;
    padding-inline-start: 1.4rem;
    font-weight: 600;
    color: color-mix(in srgb, var(--marrom-terra-firme) 88%, #000 12%);
  }
  .diferenciais-list li::before {
    content: "•";
    position: absolute;
    left: 0;
    color: color-mix(in srgb, var(--marsala-profundo) 90%, #000 10%);
    font-size: 1.2rem;
    line-height: 1;
    top: 0.05rem;
  }

  .diferenciais-cards {
    display: grid;
    gap: clamp(1.8rem, 4vw, 2.4rem);
  }
  .mini-card {
    position: relative;
    padding: clamp(1.8rem, 3.5vw, 2.4rem);
    border-radius: 1.25rem;
    background: linear-gradient(
      180deg,
      color-mix(in srgb, #fff 94%, var(--areia-dourada) 6%),
      color-mix(in srgb, #fff 98%, var(--dourado-fosco) 2%)
    );
    border: 1px solid color-mix(in srgb, var(--dourado-fosco) 25%, #fff 75%);
    box-shadow: 0 14px 30px -18px rgba(0, 0, 0, 0.12);
    transition:
      transform 0.35s cubic-bezier(0.16, 1, 0.3, 1),
      box-shadow 0.4s ease,
      border-color 0.3s ease;
    overflow: hidden;
  }
  .mini-card::after {
    content: "";
    position: absolute;
    inset: 0;
    background: radial-gradient(circle at top right, rgba(117, 42, 42, 0.12), transparent 70%);
    opacity: 0;
    transform: scale(1.1);
    transition: opacity 0.4s ease, transform 0.4s ease;
  }
  @media (hover: hover) {
    .mini-card:hover,
    .mini-card:focus-within {
      transform: translateY(-5px);
      box-shadow: 0 24px 48px -22px rgba(0, 0, 0, 0.18);
      border-color: color-mix(in srgb, var(--dourado-fosco) 40%, #fff 60%);
    }
    .mini-card:hover::after,
    .mini-card:focus-within::after {
      opacity: 1;
      transform: scale(1);
    }
  }
  .mini-card h3 {
    margin: 0 0 0.5rem;
    font-family: "Cormorant Garamond", serif;
    font-size: clamp(1.4rem, 2.6vw, 1.8rem);
    color: color-mix(in srgb, var(--marsala-profundo) 88%, #000 12%);
  }
  .mini-card p {
    margin: 0;
    color: color-mix(in srgb, var(--marrom-terra-firme) 82%, black 18%);
    line-height: 1.55;
  }

  /* animação de entrada */
  @keyframes fade-up {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
  [data-animate="fade-up"].is-visible {
    animation: fade-up 0.6s ease forwards;
  }

  /* ===== PROCESSO ===== */
  .section-processo {
    background:
      radial-gradient(100% 160% at 10% 0%, rgba(201,174,143,0.18), transparent 60%),
      linear-gradient(180deg, rgba(255,255,255,0.95), rgba(255,255,255,0.88));
    padding-block: clamp(3rem, 6vw, 5rem);
  }

  .process-steps {
    margin: 0;
    padding: 0;
    list-style: none;
    display: grid;
    gap: clamp(1.5rem, 3vw, 2.4rem);
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    align-items: stretch;
  }

  .process-step {
    position: relative;
    display: grid;
    gap: 0.8rem;
    padding: clamp(1.8rem, 3.6vw, 2.4rem);
    border-radius: 1.25rem;
    background: linear-gradient(
      180deg,
      color-mix(in srgb, #fff 94%, var(--areia-dourada) 6%) 0%,
      color-mix(in srgb, #fff 98%, var(--areia-dourada) 2%) 100%
    );
    border: 1px solid color-mix(in srgb, var(--dourado-fosco) 25%, white 75%);
    box-shadow: 0 16px 34px -18px rgba(0, 0, 0, 0.15);
    transition:
      transform 0.3s ease,
      box-shadow 0.3s ease,
      border-color 0.3s ease;
    isolation: isolate;
  }

  .process-step::before {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    background: radial-gradient(circle at 30% 20%, rgba(117, 42, 42, 0.12), transparent 70%);
    opacity: 0;
    transition: opacity 0.35s ease;
    z-index: -1;
  }

  @media (hover: hover) {
    .process-step:hover,
    .process-step:focus-within {
      transform: translateY(-6px);
      border-color: color-mix(in srgb, var(--dourado-fosco) 45%, white 55%);
      box-shadow: 0 26px 46px -20px rgba(0, 0, 0, 0.22);
    }
    .process-step:hover::before,
    .process-step:focus-within::before { opacity: 1; }
  }

  .step-number {
    inline-size: 2.8rem;
    block-size: 2.8rem;
    border-radius: 50%;
    display: grid;
    place-items: center;
    font-weight: 700;
    font-size: 1.1rem;
    color: #fff;
    background: linear-gradient(
      135deg,
      color-mix(in srgb, var(--marsala-profundo) 88%, black 12%) 0%,
      color-mix(in srgb, var(--terracota-queimado) 78%, white 22%) 100%
    );
    box-shadow: 0 10px 22px -10px rgba(117, 42, 42, 0.4);
    margin-bottom: 0.4rem;
  }

  .process-step h3 {
    margin: 0;
    font-family: var(--font-display);
    font-weight: 700;
    font-size: clamp(1.25rem, 2.2vw, 1.6rem);
    color: color-mix(in srgb, var(--marsala-profundo) 85%, black 15%);
  }

  .process-step p {
    margin: 0;
    font-size: 1rem;
    line-height: 1.6;
    color: color-mix(in srgb, var(--marrom-terra-firme) 80%, black 20%);
  }

  @media (max-width: 720px) {
    .process-steps { gap: 1.6rem; }
    .process-step { padding: 1.5rem 1.6rem; }
  }

/* ===== CTA (v2.1 — stack vertical centrado) ===== */

/* força layout em coluna única e centraliza tudo */
.cta-card {
  display: flex;                  /* troca grid por flex p/ empilhar fácil */
  flex-direction: column;
  align-items: center;            /* centraliza filhos */
  justify-content: center;
  text-align: center;
  gap: clamp(var(--space-2), 2.5vw, var(--space-3));

  max-inline-size: 44rem;         /* largura de leitura boa */
  margin-inline: auto;
  padding: clamp(var(--space-5), 5vw, calc(var(--space-5) + 1rem));
  border-radius: var(--radius-xl);
  background: color-mix(in srgb, rgba(255, 255, 255, 0.9) 85%, rgba(117, 42, 42, 0.1) 15%);
}

/* títulos e texto limitados pra não “esticar” demais */
.cta-card h2,
.cta-card p,
.cta-actions {
  inline-size: min(100%, 38rem);
  margin: 0;
}

/* botão 100% central, sem chance de desalinhar */
.cta-card .btn.btn-primary {
  align-self: center;
  justify-self: center;
  border-radius: 999px;
  padding-inline: clamp(1.4rem, 3vw, 2rem);
  padding-block: 0.9rem;
  background: linear-gradient(
    130deg,
    color-mix(in srgb, var(--marsala-profundo) 96%, #000 4%),
    color-mix(in srgb, var(--marsala-profundo) 86%, #fff 14%)
  );
  color: #fff;
  border: 1px solid color-mix(in srgb, var(--marsala-profundo) 55%, #fff 45%);
  box-shadow: 0 18px 40px rgba(117, 42, 42, 0.28);
}

/* ações (se tiver mais de um botão) continuam centralizadas e em linha */
.cta-actions {
  display: inline-flex;
  gap: clamp(.6rem, 1.8vw, 1rem);
  align-items: center;
  justify-content: center;
}

/* remove o layout lado a lado das container queries anteriores */
@container cta (min-width: 920px) {
  .cta-card {
    /* garante 1 coluna sempre */
    flex-direction: column;
    align-items: center;
    text-align: center;
    gap: clamp(var(--space-2), 2.5vw, var(--space-3));
  }
}

/* se houver imagem/figure dentro do CTA, ela também fica centralizada e com limite */
.cta-card > figure {
  margin: 0;
  inline-size: min(100%, 36rem);
  max-block-size: 18rem;
  overflow: hidden;
  border-radius: calc(var(--radius-xl) - .25rem);
}
.cta-card > figure img {
  inline-size: 100%;
  block-size: 100%;
  object-fit: cover;
  display: block;
}


/* ---------- FORCED COLORS ---------- */
@media (forced-colors: active) {
  .hero-copy,
  .mini-card,
  .process-step,
  .cta-card {
    forced-color-adjust: auto;
    border: 1px solid CanvasText;
    background: Canvas;
    box-shadow: none !important;
  }
}

/* ---------- SUPPORTS ---------- */
@supports (backdrop-filter: blur(4px)) {
  .hero-copy,
  .mini-card {
    backdrop-filter: blur(8px);
  }
}


