/* ================================
   sobre.css — v1.6 (legibilidade premium)
   Design para leitura do começo ao fim
   Mantém tokens globais do :root em style.css
   ================================ */

/* ---------- Fundamentos de leitura ---------- */
:root {
  /* baseline de 8px, escala fluida suave */
  --baseline: 0.5rem; /* 8px */
  --measure: 70ch;    /* largura ideal do parágrafo */
  --measure-narrow: 62ch;
  --measure-wide: 78ch;

  /* pesos tipográficos coerentes */
  --w-regular: 400;
  --w-medium: 500;
  --w-semibold: 600;
  --w-bold: 700;
  --w-extrabold: 800;

  /* cadência vertical */
  --rhythm-1: calc(var(--baseline) * 1);  /* 8px  */
  --rhythm-2: calc(var(--baseline) * 2);  /* 16px */
  --rhythm-3: calc(var(--baseline) * 3);  /* 24px */
  --rhythm-4: calc(var(--baseline) * 4);  /* 32px */
  --rhythm-5: calc(var(--baseline) * 6);  /* 48px */
  --rhythm-6: calc(var(--baseline) * 8);  /* 64px */

  /* suavidade nas transições */
  --ease-std: cubic-bezier(.22,.61,.36,1);
  --t-std: .26s var(--ease-std);
}

/* ---------- Ancoragem/scroll ---------- */
[id],
.section + .section {
  scroll-margin-top: calc(var(--header-offset) + var(--rhythm-3));
}

/* ================= HERO ================= */
.hero--sobre {
  --hero-bg: linear-gradient(135deg, rgba(201,174,143,.18), transparent 70%);
  position: relative;
  isolation: isolate;

  min-block-size: calc(70svh - var(--header-offset, 0px));
  display: grid;
  grid-template-rows: 1fr auto 1fr;
  justify-items: center;
  text-align: center;

  padding-inline: clamp(1rem, 3.6vw, 2rem);
  padding-block: 0;
}

.hero--sobre::before{
  content:"";
  position:absolute; inset:0;
  background: var(--hero-bg);
  pointer-events:none; z-index:-1;
  mask-image: radial-gradient(120% 80% at 50% 35%, #000 58%, transparent 100%);
  -webkit-mask-image: radial-gradient(120% 80% at 50% 35%, #000 58%, transparent 100%);
}

.hero--sobre > *{
  width: min(92dvw, var(--container-w, 1120px));
  margin-inline:auto;
  box-sizing:border-box;
}

.hero--sobre .hero-copy{
  grid-row:2;
  display:grid;
  justify-items:center;
  gap: clamp(var(--rhythm-2), 2.2vw, var(--rhythm-3));
  max-width: var(--measure);
  text-align:center;
  padding: .02px 0; /* evita colapso ótico */
}

/* Eyebrow */
.hero--sobre .eyebrow{
  margin:0;
  text-transform:uppercase;
  letter-spacing:.26em;
  font-size: clamp(.9rem, 1.1vw, 1rem);
  color: color-mix(in srgb, var(--oliva-sutil) 82%, #000 18%);
  opacity:.95;
}

/* Título principal — 2–3 linhas, presença sem gritar */
.hero--sobre .hero-title,
.hero--sobre h1{
  margin:0 0 var(--rhythm-2);
  font-family:"Cormorant Garamond", serif;
  font-weight: var(--w-extrabold);
  font-size: clamp(2.35rem, 4.2vw, 3.3rem);
  line-height:1.08;
  letter-spacing:.18px;
  text-wrap: balance;
  max-inline-size: clamp(18ch, 46vw, 22ch);
  color: color-mix(in srgb, var(--marsala-profundo) 96%, black 4%);
}

/* Lead */
.hero--sobre .lead{
  margin:0;
  font-size: clamp(1.06rem, 1.8vw, 1.22rem);
  line-height:1.85;
  color: color-mix(in srgb, var(--marrom-terra-firme) 92%, black 8%);
  max-inline-size: var(--measure-narrow);
}

/* CTAs */
.hero--sobre .hero-cta{
  display:flex; flex-wrap:wrap; justify-content:center;
  gap: clamp(.8rem, 1vw, 1.1rem);
  margin-top: var(--rhythm-2);
}
.hero--sobre .hero-cta .btn-primary{
  padding:.85rem 1.4rem; border-radius:999px; font-weight:var(--w-bold);
  box-shadow:0 16px 28px rgba(62,39,49,.18);
  transition: transform var(--t-std), box-shadow var(--t-std);
}
.hero--sobre .hero-cta .btn-primary:hover{ transform:translateY(-2px); box-shadow:0 22px 44px rgba(62,39,49,.24); }
.hero--sobre .hero-cta .btn-link{
  font-weight:var(--w-bold);
  text-decoration:none;
  border-bottom:2px solid color-mix(in srgb, var(--marsala-profundo) 28%, #000 72%);
  padding-bottom:.18rem;
  transition: border-color var(--t-std), opacity var(--t-std);
}
.hero--sobre .hero-cta .btn-link:hover{ border-color: color-mix(in srgb, var(--marsala-profundo) 60%, #000 40%); opacity:1; }

/* ============= PROSA / ARTIGO ============= */
.prose{
  max-width: var(--measure);
  margin-inline:auto;
  padding-inline: clamp(1rem, 2.6vw, 1.8rem);
}

/* Cadência dos elementos */
.prose > * + *{ margin-top: .9em; }

/* Tipografia fina e linguagem pt-BR */
:where(.prose, .hero--sobre .hero-copy, .article){
  hanging-punctuation: first allow-end;
  text-wrap: pretty balance;
  hyphens: auto; -webkit-hyphens:auto;
  orphans:2; widows:2;
}

/* Hierarquia de títulos dentro da prosa */
.prose h1, .prose h2{
  font-family:"Cormorant Garamond", serif;
  color: color-mix(in srgb, var(--marsala-profundo) 96%, black 4%);
  margin: var(--rhythm-5) 0 var(--rhythm-2);
  text-wrap: balance;
}
.prose h1{
  font-weight: var(--w-extrabold);
  font-size: clamp(2rem, 3.6vw, 2.6rem);
  line-height:1.08;
  max-inline-size: 22ch;
}
.prose h2{
  font-weight: var(--w-bold);
  font-size: clamp(1.7rem, 2.8vw, 2.1rem);
  line-height:1.12;
}

/* Parágrafos */
.article p, .prose p{
  font-size: clamp(1.02rem, 1.7vw, 1.12rem);
  line-height:1.8;
  color: var(--marrom-terra-firme);
  margin: .7rem 0 0;
  max-inline-size: var(--measure);
}

/* Listas */
.prose ul, .prose ol{
  padding-inline-start: 1.2rem;
  margin: var(--rhythm-2) 0 0;
}
.prose li + li{ margin-top: .4rem; }

/* Citação */
.prose blockquote{
  margin: var(--rhythm-3) 0 0;
  padding: var(--rhythm-3) var(--rhythm-3);
  border-inline-start: 4px solid var(--dourado-fosco);
  background: color-mix(in srgb, white 86%, transparent 14%);
  border-radius: .8rem;
  font-size: 1.06rem;
  line-height:1.78;
  box-shadow: 0 6px 18px rgba(0,0,0,.045);
}

/* Imagens e figuras */
.prose figure{
  margin: var(--rhythm-4) auto 0;
  text-align:center;
}
.prose img{
  display:block; margin-inline:auto;
  max-width:100%; height:auto; border-radius: .8rem;
  box-shadow: 0 10px 28px rgba(0,0,0,.08);
}
.prose figcaption{
  margin-top: .5rem;
  font-size: .95rem;
  color: color-mix(in srgb, var(--text-muted, #6b6b6b) 90%, #000 10%);
}

/* Ênfase e links */
.em{ color: var(--terracota-queimado); font-weight: var(--w-bold); }
.prose a:not(.btn-reveal){
  color: color-mix(in srgb, var(--marsala-profundo) 88%, black 12%);
  text-decoration: underline;
  text-decoration-thickness: .08em;
  text-underline-offset: .18em;
  transition: text-decoration-thickness var(--t-std), opacity var(--t-std);
}
.prose a:hover{ text-decoration-thickness:.11em; opacity:.96; }

/* Seleção de texto */
::selection{ background: color-mix(in srgb, var(--dourado-fosco) 38%, transparent); }

/* ============= CALLOUTS / CTA BOX ============= */
.callout{
  margin: var(--rhythm-4) 0 0;
  padding: calc(var(--rhythm-3) + 4px) var(--rhythm-3);
  border-radius: 1rem;
  background: color-mix(in srgb, white 90%, transparent 10%);
  border: 1px solid color-mix(in srgb, var(--dourado-fosco) 48%, white);
  box-shadow: 0 10px 26px rgba(0,0,0,.055);
}
.callout.soft{ border-left: 4px solid var(--dourado-fosco); }
.callout .label{
  font-weight: var(--w-extrabold);
  color: var(--terracota-queimado);
  margin-bottom: .32rem;
  letter-spacing: .22px;
}

.cta-box{
  text-align:center;
  margin-top: var(--rhythm-3);
  background: color-mix(in srgb, white 86%, transparent 14%);
  border: 1px solid color-mix(in srgb, var(--dourado-fosco) 48%, white);
  border-radius: 1rem;
  padding: clamp(1.2rem, 3.6vw, 2.1rem);
  box-shadow: 0 12px 30px rgba(0,0,0,.055);
}
.btn-reveal{
  display:inline-block;
  margin-top: .7rem;
  border-radius:999px;
  padding:.86rem 1.22rem;
  font-weight: var(--w-extrabold);
  text-decoration:none;
  color: var(--marsala-profundo);
  border:2px solid var(--dourado-fosco);
  transition: transform var(--t-std), background-color var(--t-std), box-shadow var(--t-std), outline-color var(--t-std), filter var(--t-std);
  will-change: transform, filter;
}
.btn-reveal:hover,
.btn-reveal:focus-visible{
  background: color-mix(in srgb, var(--dourado-fosco) 88%, white);
  transform: translateY(-2px);
  box-shadow: 0 12px 22px rgba(0,0,0,.10);
  outline:3px solid color-mix(in srgb, var(--dourado-fosco) 42%, transparent);
  outline-offset:2px;
  filter:saturate(1.02);
}

/* ============= Micro animações ============= */
:root{
  --enter-y: 10px;
  --dur: .48s;
}
.reveal{
  opacity:0; transform: translateY(var(--enter-y));
  transition: opacity var(--dur) var(--ease-std) var(--delay,0ms),
              transform var(--dur) var(--ease-std) var(--delay,0ms);
  will-change: opacity, transform;
}
.reveal.in-view{ opacity:1; transform:none; }

.card-approach{
  opacity:0; transform: translateY(8px) scale(.996);
  filter:saturate(.98);
  transition: opacity .5s var(--ease-std),
              transform .5s var(--ease-std),
              box-shadow .35s ease, filter .35s ease;
}
.card-approach.in-view{
  opacity:1; transform:none; filter:none;
  box-shadow:0 12px 28px rgba(0,0,0,.08);
}

/* ============= Accordion ============= */
details.prep, details.policy{ overflow:clip; }
details.prep[open] > *:not(summary),
details.policy[open] > *:not(summary){ animation: fadeIn .32s ease both; }
@keyframes fadeIn{
  from{ opacity:0; transform: translateY(4px); }
  to{   opacity:1; transform:none; }
}

/* ============= Resets locais ============= */
h2::after{ content:none !important; }
.lead mark, .article mark, .about-section mark, mark, mark.em{
  background:transparent !important; color:inherit !important;
  padding:0 !important; border-radius:0 !important; box-shadow:none !important;
}
mark, .spot{ all:unset; }

/* ============= Acessibilidade / foco ============= */
:where(a, button, summary, [role="button"]):focus-visible{
  outline:3px solid color-mix(in srgb, var(--dourado-fosco) 52%, transparent);
  outline-offset:2px; border-radius:.5rem;
}

/* ============= Motion reduce ============= */
@media (prefers-reduced-motion: reduce){
  *{ animation:none !important; transition:none !important; }
}

/* ============= Responsivo ============= */
@media (max-width: 980px){
  .prose{ padding-inline: 1rem; }
  .prose h1{ font-size: clamp(1.9rem, 5.4vw, 2.4rem); }
  .prose h2{ font-size: clamp(1.6rem, 4.4vw, 1.95rem); }
  .article p, .prose p{ font-size: clamp(1rem, 3.2vw, 1.08rem); }
}
@media (max-width: 640px){
  .hero--sobre{ min-block-size: calc(62svh - var(--header-offset, 0px)); }
  .hero--sobre .hero-copy{ max-width: var(--measure-narrow); }
}


